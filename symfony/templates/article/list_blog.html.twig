{% extends 'admin.html.twig' %}

{% block title %}Liste des annonces{% endblock %}

{% block class_body 'admin' %}

{% block body %}
    <section class="panel important">
        <h2>Liste des blogs</h2>

        <div class="text-right">
            <a class="btn-primary btn-sm text-right" href="{{ path('article_new', { type: constant('App\\Enum\\ArticleEnum::BLOG')}) }}">
                <i class="fas fa-plus"></i>
                Nouvelle Blog
            </a>
        </div>

        <table>
            <tr>
                <th>Titre</th>
                <th>Crée</th>
                <th>Actions</th>
                <th>Supprimé</th>
            </tr>
            {% for article in articles %}
                <tr>
                    <td title="{{ article.titleTranslator }}">{{ article.title }}</td>
                    <td>{{ article.createdAt|date('d/m/Y') }}</td>
{#                    <td>#}
{#                        <a href="{{ path('article_show', {'id': article.id}) }}">Afficher</a>#}
{#                    </td>#}
                    <td>
                        <a href="{{ path('article_edit', {'id': article.id, type: constant('App\\Enum\\ArticleEnum::BLOG')}) }}">Modifier</a>
                    </td>
                    <td>
                        <span class="badge badge-secondary">{{ article.archived ? 'oui' : 'non' }}</span>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="8">Pas d'article disponible...</td>
                </tr>
            {% endfor %}
        </table>
    </section>
{#{% block stylesheets %}#}
{#    {{ parent() }}#}
{#    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css">#}
{#{% endblock %}#}
{#{% block javascripts %}#}
{#    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>#}
{#    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>#}
{#    <script>#}
{#        $(document).ready( function () {#}
{#            $('.js-datatable').DataTable();#}
{#        } );#}
{#    </script>#}
{% endblock %}

